# Guide du débogage dans VS Code pour développeurs juniors
# *VS Code Debugging Guide for Junior Developers*
---

## Principes fondamentaux du débogueur VS Code
Le débogueur dans VS Code est un outil essentiel qui vous permet de suspendre l'exécution du programme à des points spécifiques, d'examiner les variables et de comprendre le flux d'exécution de votre code.

## Fundamental Principles of VS Code Debugger

*The debugger in VS Code is an essential tool that allows you to pause program execution at specific points, examine variables, and understand the execution flow of your code.*

---
![Capture d'écran debugger vs code](<../Apprendr à utiliser le debugger/IMG/Exemple de debugger.png>)

### Points d'arrêt (Breakpoints)
Vous avez correctement placé un point d'arrêt à la ligne 123 (`print(res)`). Lorsque l'exécution atteint cette ligne, VS Code suspend le programme et vous permet d'examiner l'état actuel.

### Breakpoints
*You correctly placed a breakpoint at line 123 (`print(res)`). When execution reaches this line, VS Code suspends the program and allows you to examine the current state.*

---

### Fenêtre Variables
La fenêtre Variables est la section la plus importante à observer dans votre capture d'écran. Elle affiche:
- **Locals**: Variables disponibles dans la portée locale actuelle
- **Globals**: Variables disponibles dans la portée globale

### Variables Window
*The Variables window is the most important section to observe in your screenshot. It displays:*
- *__Locals__: Variables available in the current local scope*
- *__Globals__: Variables available in the global scope*
  
---

### Structure de la fenêtre Variables
Dans votre capture d'écran, nous pouvons voir:
- Les variables sont organisées hiérarchiquement avec des triangles d'expansion (►)
- Des types de variables spécifiques sont regroupés (special variables, function variables, class variables)

### Structure of the Variables Window
*In your screenshot, we can see:*
- *Variables are organized hierarchically with expansion triangles (►)*
- *Specific variable types are grouped (special variables, function variables, class variables)*
  
---

## Analyse de votre code LangChain dans le débogueur
Comprendre comment votre code LangChain est représenté dans le débogueur est crucial pour identifier des problèmes potentiels et optimiser votre chaîne.

## Analysis of your LangChain Code in the Debugger
*Understanding how your LangChain code is represented in the debugger is crucial for identifying potential issues and optimizing your chain.*

---

### Variables clés à observer
Les variables suivantes sont particulièrement importantes à examiner pendant le débogage.

### Key Variables to Observe
*The following variables are particularly important to examine during debugging.*

---

1 .  **`res`**: C'est votre variable la plus importante puisqu'elle contient le résultat de votre chaîne LangChain. Dans le débogueur, je vois:
   ```python
   res = [AnswerQuestion(answer="The AI-Powered SOC (Security Operations Center) and Autonomous...security operations automation start-ups")]
   ```
   Ceci montre que `res` est une liste contenant un objet `AnswerQuestion` avec une réponse structurée.



1 . ***`res`**: This is your most important variable as it contains the result of your LangChain chain. In the debugger, I see:*
   ```python
   res = [AnswerQuestion(answer="The AI-Powered SOC (Security Operations Center) and Autonomous...security operations automation start-ups")]
   ```
   *This shows that `res` is a list containing an `AnswerQuestion` object with a structured response.*
---

2 . **`chain`**: Représente votre chaîne LangChain complète (template → LLM → parser)

2 . ***`chain`**: Represents your complete LangChain chain (template → LLM → parser)*

---

1 . **`human_message`**: Contient la requête utilisateur que vous testez

1 . ***`human_message`**: Contains the user query you are testing*

---

2 . **`llm`**: Instance de votre modèle de langage OpenAI

2 . ***`llm`**: Instance of your OpenAI language model*

---

3 . **`parser_pydantic`**: Le parseur qui transforme la sortie JSON en objet Pydantic

3 . ***`parser_pydantic`**: The parser that transforms JSON output into a Pydantic object*

---

## Techniques avancées de débogage pour LangChain
L'utilisation de LangChain introduit des structures de données complexes qui nécessitent des techniques de débogage spécifiques.

## Advanced Debugging Techniques for LangChain
*Using LangChain introduces complex data structures that require specific debugging techniques.*


---

### Inspection des objets complexes
Les objets LangChain comme `first_responder` et `chain` sont complexes. Pour les examiner:
1. Développez-les dans la fenêtre Variables
2. Recherchez les attributs clés comme `input_types` et `input_variables`

### Inspecting Complex Objects
*LangChain objects like `first_responder` and `chain` are complex. To examine them:*
1. *Expand them in the Variables window*
2. *Look for key attributes like `input_types` and `input_variables`*

---

### Surveillance des transformations de données
Votre code effectue plusieurs transformations:
1. Message utilisateur → Prompt structuré
2. Prompt → Réponse LLM
3. Réponse LLM → Structure Pydantic

Pour comprendre ces transformations, vous pourriez ajouter des points d'arrêt intermédiaires.

### Monitoring Data Transformations
*Your code performs several transformations:*
1. *User message → Structured prompt*
2. *Prompt → LLM response*
3. *LLM response → Pydantic structure*

*To understand these transformations, you could add intermediate breakpoints.*


---

## Astuces pratiques de débogage dans VS Code
VS Code offre de nombreux outils qui peuvent accélérer votre processus de débogage.

## Practical Debugging Tips in VS Code
*VS Code offers many tools that can speed up your debugging process.*
---

### Navigation pas à pas
VS Code offre plusieurs options pour naviguer dans le code pendant le débogage:
- **Step Over** (F10): Exécute la ligne actuelle et s'arrête à la suivante
- **Step Into** (F11): Entre dans une fonction appelée
- **Step Out** (Shift+F11): Sort de la fonction actuelle
- **Continue** (F5): Continue l'exécution jusqu'au prochain point d'arrêt

### Step-by-Step Navigation
*VS Code offers several options for navigating through code during debugging:*
- *__Step Over__ (F10): Executes the current line and stops at the next one*
- *__Step Into__ (F11): Enters a called function*
- *__Step Out__ (Shift+F11): Exits the current function*
- *__Continue__ (F5): Continues execution until the next breakpoint*

---

### Watch Expressions
Vous pouvez ajouter des expressions à surveiller pour suivre des valeurs spécifiques:
1. Cliquez sur le panneau "Watch"
2. Ajoutez des expressions comme `res[0].answer` pour voir la réponse formatée

### Watch Expressions
*You can add expressions to watch to track specific values:*
1. *Click on the "Watch" panel*
2. *Add expressions like `res[0].answer` to see the formatted response*

---

### Évaluation dans le débogueur
Dans la console de débogage, vous pouvez exécuter du code Python pour tester des expressions:
```python
# Par exemple, pour voir uniquement la réponse
print(res[0].answer)

# Ou pour examiner la structure de l'objet
import json
print(json.dumps(res[0].dict(), indent=2))
```

### Evaluation in the Debugger
*In the debug console, you can run Python code to test expressions:*
```python
# For example, to see only the response
print(res[0].answer)

# Or to examine the object structure
import json
print(json.dumps(res[0].dict(), indent=2))
```
---

## Points d'intérêt spécifiques dans votre code
Certains aspects de votre code méritent une attention particulière lors du débogage.

## Specific Points of Interest in Your Code
*Certain aspects of your code deserve special attention during debugging.*


---

1. **Structure de l'objet `AnswerQuestion`**
   - Développez `res` pour voir tous les champs de l'objet (probablement `answer`, `critique`, et `search_queries`)

1. ***Structure of the `AnswerQuestion` Object***
   - *Expand `res` to see all fields of the object (probably `answer`, `critique`, and `search_queries`)*
---

2. **Configuration du LLM**
   - Examinez `llm` pour vérifier les paramètres comme le modèle et la température

2. ***LLM Configuration***
   - *Examine `llm` to check parameters like model and temperature*
---

3. **Templates de prompt**
   - Consultez `first_responder_prompt_template` pour voir comment le prompt est structuré

3. ***Prompt Templates***
   - *Check `first_responder_prompt_template` to see how the prompt is structured*
---

## Résolution de problèmes courants
Voici comment aborder les problèmes fréquents lors du débogage d'applications LangChain.

## Troubleshooting Common Issues
*Here's how to approach frequent problems when debugging LangChain applications.*


---

1. **Erreurs de parsing**
   - Vérifiez `parser_pydantic` et la structure de votre schéma Pydantic

1. ***Parsing Errors***
   - *Check `parser_pydantic` and the structure of your Pydantic schema*
---

2. **Problèmes de communication avec l'API**
   - Inspectez `llm` pour confirmer que les identifiants d'API sont chargés

2. ***API Communication Issues***
   - *Inspect `llm` to confirm that API credentials are loaded*
---

3. **Erreurs de structure de prompt**
   - Examinez les valeurs de `input_variables` pour vérifier que tous les placeholders sont remplis

3. ***Prompt Structure Errors***
   - *Examine the values of `input_variables` to verify that all placeholders are filled*
---

## Conclusion
Le débogueur VS Code est un outil puissant pour comprendre le flux d'exécution et l'état des variables dans votre code. Pour les applications LangChain, il est particulièrement utile pour inspecter les transformations de données et la structure des réponses du LLM.

Pour approfondir vos compétences en débogage, essayez d'ajouter des points d'arrêt à différentes étapes de votre chaîne et explorez les valeurs intermédiaires pour comprendre comment les données circulent dans votre application.

## Conclusion
*The VS Code debugger is a powerful tool for understanding the execution flow and variable state in your code. For LangChain applications, it is particularly useful for inspecting data transformations and the structure of LLM responses.*

*To deepen your debugging skills, try adding breakpoints at different stages of your chain and explore the intermediate values to understand how data flows through your application.*

---

## Lexique technique français-anglais

| Français | Anglais |
|----------|---------|
| Point d'arrêt | Breakpoint |
| Fenêtre Variables | Variables Window |
| Portée locale | Local scope |
| Portée globale | Global scope |
| Triangle d'expansion | Expansion triangle |
| Variables clés | Key variables |
| Chaîne | Chain |
| Modèle de langage | Language model |
| Parseur | Parser |
| Inspection des objets | Inspecting objects |
| Surveillance des transformations | Monitoring transformations |
| Navigation pas à pas | Step-by-step navigation |
| Exécuter la ligne actuelle | Execute the current line |
| Expressions à surveiller | Watch expressions |
| Évaluation dans le débogueur | Evaluation in the debugger |
| Console de débogage | Debug console |
| Résolution de problèmes | Troubleshooting |
| Flux d'exécution | Execution flow |